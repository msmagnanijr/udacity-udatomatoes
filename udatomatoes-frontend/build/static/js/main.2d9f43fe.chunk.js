(this.webpackJsonpudatomatoes=this.webpackJsonpudatomatoes||[]).push([[0],{26:function(e,t,i){},45:function(e,t,i){"use strict";i.r(t);var n=i(1),c=i(0),r=i.n(c),s=i(20),a=i.n(s),o=(i(26),i(6)),d=(i(9),i.p+"static/media/udatomatoes.9c5c67bb.png"),l=i(2),u=i(10),j=i(5),v=i.n(j);function m(e){var t=Object(u.a)(),i=t.register,c=t.handleSubmit,r=function(t){v.a.post("http://localhost:3000/reviews",t).then((function(){e.setReviews([].concat(Object(l.a)(e.reviews),[{data:t}]))}))};return Object(n.jsxs)("form",{className:"add-review",onSubmit:c((function(e){console.log(e),r(e)})),children:[Object(n.jsx)("h4",{children:"Add Review"}),Object(n.jsx)("input",{type:"text",placeholder:"Movie Title",name:"movie_title",ref:i({required:!0,maxLength:40})}),Object(n.jsx)("input",{type:"text",placeholder:"Review",name:"movie_review",ref:i({required:!0,maxLength:450})}),Object(n.jsx)("input",{type:"number",placeholder:"Rating",name:"movie_rating",ref:i({required:!0,max:5,min:0})}),Object(n.jsx)("input",{id:"btn",type:"submit"})]})}function b(e){var t=Object(u.a)(),i=t.register,c=t.handleSubmit,r=function(t){v.a.put("http://localhost:3000/reviews",t).then((function(t){e.setReviews(e.reviews.map((function(t){return t.id===e.id?{id:t.id,movie_title:t.movie_title,movie_review:t.movie_review,movie_rating:t.movie_rating}:t})))}))};return Object(n.jsxs)("form",{className:"add-review",onSubmit:c((function(t){console.log(t),t.id=e.id,r(t)})),children:[Object(n.jsx)("h4",{children:"Edit Review"}),Object(n.jsx)("input",{type:"text",placeholder:"Review",name:"movie_review",ref:i({required:!0,maxLength:450})}),Object(n.jsx)("input",{type:"number",placeholder:"Rating",name:"movie_rating",ref:i({required:!0,max:5,min:0})}),Object(n.jsx)("input",{id:"btn",type:"submit"})]})}function h(e){return Object(n.jsx)("button",{className:"del-btn",onClick:function(){v.a.delete("http://localhost:3000/reviews/".concat(e.id)).then((function(t){e.setReviews(e.reviews.filter((function(t){return t.id!==e.id})))}))},children:"Delete Review"})}var p=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),i=t[0],r=t[1];return Object(c.useEffect)((function(){v.a.get("http://localhost:3000/reviews").then((function(e){r(e.data)}))}),[i]),Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)("header",{className:"App-header",children:Object(n.jsx)("img",{src:d,style:{width:"18rem"},alt:""})}),Object(n.jsx)(m,{reviews:i,setReviews:r}),Object(n.jsx)("div",{className:"reviews",children:i.map((function(e){return Object(n.jsxs)("div",{className:"review",children:[Object(n.jsxs)("h3",{children:["Title: ",e.movie_title]}),Object(n.jsxs)("h3",{children:["Review: ",e.movie_review]}),Object(n.jsxs)("h3",{children:["Rating: ",e.movie_rating]}),Object(n.jsx)(b,{id:e.id,reviews:i,setReviews:r}),Object(n.jsx)(h,{id:e.id,reviews:i,setReviews:r})]})}))})]})};a.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(p,{})}),document.getElementById("root"))},9:function(e,t,i){}},[[45,1,2]]]);
//# sourceMappingURL=main.2d9f43fe.chunk.js.map